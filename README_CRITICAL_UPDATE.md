# üö® –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

## TL;DR (–°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –≤ 30 —Å–µ–∫—É–Ω–¥)

–í–∞—à —Å–µ—Ä–≤–µ—Ä **–±—ã–ª –ø–æ–¥–≤–µ—Ä–≥–Ω—É—Ç SQL-injection –∞—Ç–∞–∫–µ**. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. ‚úÖ **SQL Injection –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `sql.raw()` —Å –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–µ–π (–û–ß–ï–ù–¨ –û–ü–ê–°–ù–û)
2. ‚úÖ **–ü–æ—Ä—Ç PostgreSQL –æ—Ç–∫—Ä—ã—Ç –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç** - –ª—é–±–æ–π –º–æ–≥ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏ –Ω–∞–ø–∞—Å—Ç—å
3. ‚úÖ **–ü–∞—Ä–æ–ª—å "postgres"** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π, –ø–æ–¥–±–∏—Ä–∞–µ—Ç—Å—è –∑–∞ —Å–µ–∫—É–Ω–¥—ã

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°?

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ë–´–°–¢–†–û (5 –º–∏–Ω—É—Ç)
```bash
cd /opt/RUBLESTORE_GLOBAL
bash scripts/security-check.sh  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—ë –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–†–ê–í–ò–õ–¨–ù–û (15 –º–∏–Ω—É—Ç) - –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø
–°–ª–µ–¥—É–π—Ç–µ: [`QUICKSTART_CHECKLIST.md`](./QUICKSTART_CHECKLIST.md)

## –°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

| –£—è–∑–≤–∏–º–æ—Å—Ç—å | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| SQL Injection –≤ –∫–æ–¥–µ | ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û |
| –û—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç –ë–î | ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û |
| –°–ª–∞–±—ã–π –ø–∞—Ä–æ–ª—å | ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û |

## –ù–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –§–∞–π–ª | –î–ª—è –∫–æ–≥–æ | –í—Ä–µ–º—è —á—Ç–µ–Ω–∏—è |
|------|----------|-------------|
| üìã **SECURITY_FIX_SUMMARY.md** | –í—Å–µ | 5-10 –º–∏–Ω |
| ‚ö° **QUICKSTART_CHECKLIST.md** | DevOps | 2 –º–∏–Ω |
| üöÄ **DEPLOYMENT.md** | DevOps | 20 –º–∏–Ω |
| üîê **SECURITY.md** | –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ | 15 –º–∏–Ω |
| üö® **INCIDENT_RESPONSE.md** | DevOps | 20 –º–∏–Ω (–µ—Å–ª–∏ –∞—Ç–∞–∫–∞) |

## –ö–∞–∫ —ç—Ç–æ –±—ã–ª–æ?

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ `sql.raw()` —Å –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–µ–π —Å—Ç—Ä–æ–∫:

```typescript
// ‚ùå –ë–´–õ–û (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û)
const title = "'" + esc(p.title) + "'";
sql.raw(`INSERT INTO products VALUES (${title}, ...)`)
// –ï—Å–ª–∏ title = "x'; DROP TABLE users; --"
// –¢–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è: INSERT INTO products VALUES ('x'; DROP TABLE users; --', ...)
// –ü–æ—Ç–µ—Ä—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö! ‚ò†Ô∏è
```

## –ö–∞–∫ —ç—Ç–æ —Å—Ç–∞–ª–æ?

```typescript
// ‚úÖ –°–¢–ê–õ–û (–ü–†–ê–í–ò–õ–¨–ù–û)
sql`INSERT INTO products VALUES (${p.title}, ...)`
// PostgreSQL —Å–∞–º —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç title
// –ï—Å–ª–∏ title = "x'; DROP TABLE users; --"
// –¢–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è: INSERT INTO products VALUES ('x''; DROP TABLE users; --', ...)
// –ü—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–≤–∏—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç, –∞—Ç–∞–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞! üõ°Ô∏è
```

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ

‚ö†Ô∏è **–ù–ò–ö–û–ì–î–ê** (–¥–∞–∂–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º):
- –ù–µ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ –ø–æ—Ä—Ç 5432/5433 –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–æ–ª—å "postgres"
- –ù–µ –ø–∏—à–∏—Ç–µ `sql.raw()` —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –≤–≤–æ–¥–æ–º

‚úÖ **–í–°–ï–ì–î–ê**:
- –ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ (32+ —Å–∏–º–≤–æ–ª–∞)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ SQL: `sql\`...\``
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ `bash scripts/security-check.sh` –ø–µ—Ä–µ–¥ production

## –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ?

–í–∏–¥–∏–º–æ –∏–∑ –ª–æ–≥–∞ –∞—Ç–∞–∫–∏:
1. –ö—Ç–æ-—Ç–æ –Ω–∞—à—ë–ª –æ—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç 5432/5433
2. –ü–æ–ø—Ä–æ–±–æ–≤–∞–ª –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å –ø–∞—Ä–æ–ª—å "postgres"
3. –£—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∏ –Ω–∞—á–∞–ª –≤–≤–æ–¥–∏—Ç—å –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π SQL –∫–æ–¥
4. –ü—ã—Ç–∞–ª—Å—è —Å–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥

```
CREATE OR REPLACE FUNCTION system(cstring) 
  RETURNS int AS '/lib/x86_64-linux-gnu/libc.so.6', 'system' 
  LANGUAGE 'c' STRICT;
SELECT system('echo <base64-–∫–æ–¥-–≤—Ä–µ–¥–æ–Ω–æ—Å–∞>|base64 -d|bash');
```

## –†–µ—à–µ–Ω–∏–µ

1. ‚úÖ **–ó–∞–∫—Ä—ã–ª–∏ –ø–æ—Ä—Ç** - –∏—Å–ø–æ–ª—å–∑—É–µ–º `expose` –≤–º–µ—Å—Ç–æ `ports`
2. ‚úÖ **–°–º–µ–Ω–∏–ª–∏ –ø–∞—Ä–æ–ª—å** - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω–æ (32+ —Å–∏–º–≤–æ–ª–∞)
3. ‚úÖ **–ò—Å–ø—Ä–∞–≤–∏–ª–∏ SQL** - –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤–º–µ—Å—Ç–æ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏

## –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
bash scripts/security-check.sh

# –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
# ‚úÖ –í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´ - –ì–û–¢–û–í–û –ö –†–ê–ó–í–Å–†–¢–´–í–ê–ù–ò–Æ
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –•–æ—á—É **–±—ã—Å—Ç—Ä–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä** ‚Üí [`QUICKSTART_CHECKLIST.md`](./QUICKSTART_CHECKLIST.md) (5 –º–∏–Ω)
- –•–æ—á—É **–ø–æ–Ω—è—Ç—å —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ** ‚Üí [`SECURITY_FIX_SUMMARY.md`](./SECURITY_FIX_SUMMARY.md) (10 –º–∏–Ω)
- –•–æ—á—É **—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å –Ω—É–ª—è** ‚Üí [`DEPLOYMENT.md`](./DEPLOYMENT.md) (30 –º–∏–Ω)
- –•–æ—á—É **–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ø–æ—Å–ª–µ –∞—Ç–∞–∫–∏** ‚Üí [`INCIDENT_RESPONSE.md`](./INCIDENT_RESPONSE.md) (1+ —á–∞—Å)
- –•–æ—á—É **—É–∑–Ω–∞—Ç—å –≤—Å–µ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏** ‚Üí [`SECURITY.md`](./SECURITY.md) (20 –º–∏–Ω)

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã:
1. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤—ã—à–µ
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `bash scripts/security-check.sh`
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `docker compose logs --tail 100`
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –∫–æ–º–∞–Ω–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 8 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô - –ü–†–ò–ú–ï–ù–ò–¢–¨ –ù–ï–ú–ï–î–õ–ï–ù–ù–û

